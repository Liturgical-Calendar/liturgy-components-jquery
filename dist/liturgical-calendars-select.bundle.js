/*! For license information please see liturgical-calendars-select.bundle.js.LICENSE.txt */
!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],a):"object"==typeof exports?exports.LiturgicalCalendarsSelect=a(require("jQuery")):e.LiturgicalCalendarsSelect=a(e.jQuery)}(self,(e=>{return a={83:(e,a,t)=>{var n,i,o;i=[t(786)],void 0===(o="function"==typeof(n=function(e){let a=null;class t{static#e=[];static#a=[];static#t=[];#n=[];#i={};#o=[];#s=null;optionsBuilt=!1;constructor(e="en"){this.#s=new Intl.DisplayNames([e],{type:"region"})}static hasNationalCalendarWithDioceses(e){return t.#t.filter((a=>a?.calendar_id===e)).length>0}static addNationalCalendarWithDioceses(e){const a=t.#e.find((a=>a.calendar_id===e));t.#t.push(a)}static setNationalCalendars(e){t.#e=e}static setDiocesanCalendars(e){t.#a=e}addNationOption(e,a=!1){let t=`<option data-calendartype="national" value="${e.calendar_id}"${a?" selected":""}>${this.#s.of(e.calendar_id)}</option>`;this.#n.push(t)}addDioceseOption(e){let a=`<option data-calendartype="diocesan" value="${e.calendar_id}">${e.diocese}</option>`;this.#i[e.nation].push(a)}buildAllOptions(){this.optionsBuilt=!0,t.#a.forEach((e=>{!1===t.hasNationalCalendarWithDioceses(e.nation)&&t.addNationalCalendarWithDioceses(e.nation),!1===this.#i.hasOwnProperty(e.nation)&&(this.#i[e.nation]=[]),this.addDioceseOption(e)})),t.#e.sort(((e,a)=>this.#s.of(e.calendar_id).localeCompare(this.#s.of(a.calendar_id)))),t.#e.forEach((e=>{!1===t.hasNationalCalendarWithDioceses(e.calendar_id)&&("VA"===e.calendar_id?this.addNationOption(e,!0):this.addNationOption(e))})),t.#t.sort(((e,a)=>this.#s.of(e.calendar_id).localeCompare(this.#s.of(a.calendar_id)))),t.#t.forEach((e=>{this.addNationOption(e);let a=`<optgroup label="${this.#s.of(e.calendar_id)}">${this.#i[e.calendar_id].join("")}</optgroup>`;this.#o.push(a)}))}get nationsInnerHtml(){return this.#n.join("")}get diocesesInnerHtml(){return this.#o.join("")}}return e.fn.liturgicalCalendarsSelect=function(n){const i={apiVersion:"dev",selectClass:"",filter:"none",locale:"en"},o={};return this.each((function(){console.log(this.id);const s=e(this),l=e.extend({},i,n,s.data());console.log(`Settings: ${JSON.stringify(l)}`);let r=e("<select/>");function c(){console.log(`current settings: ${JSON.stringify(l)}`),"nations"===l.filter?r.html(o[l.locale].nationsInnerHtml):"dioceses"===l.filter?r.html(o[l.locale].diocesesInnerHtml):r.html(o[l.locale].nationsInnerHtml+o[l.locale].diocesesInnerHtml),s.replaceWith(r)}this.classList.length&&r.addClass(this.className),!1===o.hasOwnProperty(l.locale)&&(o[l.locale]=new t(l.locale)),l.selectClass&&r.addClass(l.selectClass),null===a?e.ajax({type:"GET",url:`https://litcal.johnromanodorazio.com/api/${l.apiVersion}/calendars`,async:!1,success:function(e){a=e;const{litcal_metadata:n}=a,{national_calendars:i,diocesan_calendars:s}=n;t.setNationalCalendars(i),t.setDiocesanCalendars(s),!1===o[l.locale].optionsBuilt&&o[l.locale].buildAllOptions(),c()}}):(!1===o[l.locale].optionsBuilt&&o[l.locale].buildAllOptions(),c())}))},e})?n.apply(a,i):n)||(e.exports=o)},786:a=>{"use strict";a.exports=e}},t={},function e(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return a[n](o,o.exports,e),o.exports}(83);var a,t}));