/*! For license information please see liturgical-calendars-select.bundle.js.LICENSE.txt */
!function(a,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],e):"object"==typeof exports?exports.LiturgicalCalendarsSelect=e(require("jQuery")):a.LiturgicalCalendarsSelect=e(a.jQuery)}(self,(a=>{return e={83:(a,e,t)=>{var n,i,o;i=[t(786)],void 0===(o="function"==typeof(n=function(a){let e=null;class t{static#a=[];static#e=[];static#t=[];#n=[];#i={};#o=[];#s=null;optionsBuilt=!1;constructor(a="en"){this.#s=new Intl.DisplayNames([a],{type:"region"})}static hasNationalCalendarWithDioceses(a){return t.#t.filter((e=>e?.calendar_id===a)).length>0}static addNationalCalendarWithDioceses(a){const e=t.#a.find((e=>e.calendar_id===a));t.#t.push(e)}static setNationalCalendars(a){t.#a=a}static setDiocesanCalendars(a){t.#e=a}addNationOption(a,e=!1){let t=`<option data-calendartype="national" value="${a.calendar_id}"${e?" selected":""}>${this.#s.of(a.calendar_id)}</option>`;this.#n.push(t)}addDioceseOption(a){let e=`<option data-calendartype="diocesan" value="${a.calendar_id}">${a.diocese}</option>`;this.#i[a.nation].push(e)}buildAllOptions(){this.optionsBuilt=!0,t.#e.forEach((a=>{!1===t.hasNationalCalendarWithDioceses(a.nation)&&t.addNationalCalendarWithDioceses(a.nation),!1===this.#i.hasOwnProperty(a.nation)&&(this.#i[a.nation]=[]),this.addDioceseOption(a)})),t.#a.sort(((a,e)=>this.#s.of(a.calendar_id).localeCompare(this.#s.of(e.calendar_id)))),t.#a.forEach((a=>{!1===t.hasNationalCalendarWithDioceses(a.calendar_id)&&("VA"===a.calendar_id?this.addNationOption(a,!0):this.addNationOption(a))})),t.#t.sort(((a,e)=>this.#s.of(a.calendar_id).localeCompare(this.#s.of(e.calendar_id)))),t.#t.forEach((a=>{this.addNationOption(a);let e=`<optgroup label="${this.#s.of(a.calendar_id)}">${this.#i[a.calendar_id].join("")}</optgroup>`;this.#o.push(e)}))}get nationsInnerHtml(){return this.#n.join("")}get diocesesInnerHtml(){return this.#o.join("")}}return a.fn.liturgicalCalendarsSelect=function(n){const i={apiUrl:"https://litcal.johnromanodorazio.com/api/dev",selectClass:"",filter:"none",locale:"en"},o={};return this.each((function(){const s=a(this),l=a.extend({},i,n,s.data());let r=a("<select/>");function c(){"nations"===l.filter?r.html(o[l.locale].nationsInnerHtml):"dioceses"===l.filter?r.html(o[l.locale].diocesesInnerHtml):r.html(o[l.locale].nationsInnerHtml+o[l.locale].diocesesInnerHtml),s.replaceWith(r)}this.classList.length&&r.addClass(this.className),!1===o.hasOwnProperty(l.locale)&&(o[l.locale]=new t(l.locale)),l.selectClass&&r.addClass(l.selectClass),null===e?a.ajax({type:"GET",url:`${l.apiUrl}/calendars`,async:!1,success:function(a){e=a;const{litcal_metadata:n}=e,{national_calendars:i,diocesan_calendars:s}=n;t.setNationalCalendars(i),t.setDiocesanCalendars(s),!1===o[l.locale].optionsBuilt&&o[l.locale].buildAllOptions(),c()}}):(!1===o[l.locale].optionsBuilt&&o[l.locale].buildAllOptions(),c())}))},a})?n.apply(e,i):n)||(a.exports=o)},786:e=>{"use strict";e.exports=a}},t={},function a(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}(83);var e,t}));